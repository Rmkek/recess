// Generated by CoffeeScript 2.0.2
(async function() {
  var code, dsl, fs, init, path, pj, pjPath, pjText, program, pth, punk, run;
  path = require('path');
  fs = require('fs-extra');
  program = require('commander');
  pjPath = path.resolve(__dirname, '../../package.json');
  pjText = ((await fs.readFile(pjPath))).toString();
  pj = JSON.parse(pjText);
  program.version(pj.version).usage('<task ...>').parse(process.argv);
  run = require('./run.js');
  init = require('../../index.js');
  pth = path.resolve(__dirname, './evl.js');
  punk = init(pth);
  // bridge
  dsl = {
    use: function() {
      return punk.use(...arguments);
    },
    task: function() {
      return punk.task(...arguments);
    },
    tasks: function() {
      return punk.tasks(...arguments);
    },
    run: function() {
      return punk.run(...arguments);
    }
  };
  code = (await fs.readFile(pth));
  return run(code, dsl);
})();
