// Generated by CoffeeScript 2.0.2
module.exports = function(punk) {
  var reporter;
  reporter = punk.reporter;
  punk.run = async function(settings) {
    var e;
    reporter.start();
    reporter.usingConfig(punk.filename);
    punk.d.keepAlive();
    try {
      await punk.d.mapAsync(settings, async function(setting, name) {
        return (await punk._runTask(name, setting));
      });
      return reporter.end();
    } catch (error) {
      e = error;
      return reporter.error(e);
    }
  };
  return punk.watch = async function(settings) {
    var e;
    reporter.startWatch();
    reporter.usingConfig(punk.filename);
    punk.d.keepAlive();
    try {
      return (await punk.d.mapAsync(settings, async function(setting, name) {
        return (await punk._watchTask(name, setting));
      }));
    } catch (error) {
      e = error;
      return reporter.error(e);
    }
  };
};
